<div class="field{% if submitted and field.name in invalid %} error{% endif %}">
    {% if field.title %}<label for="{{ field.name }}">{{ field.title }}{% if field.required %} <em class="required">*</em>{% endif %}</label>{% endif %}
    <select name="{{ field.name }}" id="{{ field.name }}"{% if field.size %} size="{{ field.size }}"{% endif %}{% if field.class %} class="{{ field.class }}"{% endif %}>
{% for value, caption in field.options %}
        <option value="{{ value }}"{% if value == (submitted ? data[field.name] : field.value) %} selected="selected"{% endif %}>{{ caption|e }}</option>
{% endfor %}
    </select>
    {% if field.description %}<span class="description">{{ field.description }}</span>{% endif %}
    {% if field.errorText and submitted and field.name in invalid %}<span class="error-text">{{ field.errorText }}</span>{% endif %}
</div>
